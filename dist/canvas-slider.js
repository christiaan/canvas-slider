(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
var CanvasViewport, axisFitOnCanvas;

CanvasViewport = (function() {
  function CanvasViewport(node, images) {
    this.node = node;
    this.images = images;
    this.context = this.node.getContext('2d');
    this._setPosition(0);
  }

  CanvasViewport.prototype.render = function(x) {
    this._setPosition(x);
    this.context.fillStyle = 'pink';
    this.context.fillRect(0, 0, this.node.width, this.node.height);
    return this.images.forEach((function(_this) {
      return function(image) {
        return image.draw(_this);
      };
    })(this));
  };

  CanvasViewport.prototype.drawImage = function(image, x, y) {
    var height, ref, ref1, sx, sy, width;
    x -= this.position;
    ref = axisFitOnCanvas(x, image.width, this.node.width), x = ref[0], width = ref[1], sx = ref[2];
    ref1 = axisFitOnCanvas(y, image.height, this.node.height), y = ref1[0], height = ref1[1], sy = ref1[2];
    if (width === 0 || height === 0) {
      return;
    }
    this.context.drawImage(image, sx, sy, width, height, x, y, width, height);
  };

  CanvasViewport.prototype._setPosition = function(position) {
    position = Math.min(position, this.node.width * (this.images.length - 1));
    position = Math.max(0, position);
    return this.position = position;
  };

  return CanvasViewport;

})();

axisFitOnCanvas = function(position, size, available) {
  var overdue, sourcePosition;
  sourcePosition = 0;
  if (position + size < 0) {
    size = 0;
  } else if (position < 0) {
    overdue = 0 - position;
    size -= overdue;
    sourcePosition += overdue;
    position = 0;
  } else if (position > available) {
    size = 0;
  } else if (position + size > available) {
    size = available - position;
  }
  return [position, size, sourcePosition];
};

module.exports = CanvasViewport;



},{}],2:[function(require,module,exports){
var Image;

Image = (function() {
  function Image(node, x, y) {
    this.node = node;
    this.x = x;
    this.y = y;
  }

  Image.prototype.draw = function(viewport) {
    return viewport.drawImage(this.node, this.x, this.y);
  };

  return Image;

})();

module.exports = Image;



},{}],3:[function(require,module,exports){
var dragHandler;

dragHandler = function(node, parentNode, cb) {
  var position, reportMovement;
  position = 0;
  node.addEventListener('mousedown', function(e) {
    parentNode.addEventListener('mousemove', reportMovement);
    position = e.clientX;
  });
  parentNode.addEventListener('mouseup', function(e) {
    parentNode.removeEventListener('mousemove', reportMovement);
  });
  return reportMovement = function(e) {
    var movement;
    movement = position - e.clientX;
    position = e.clientX;
    cb(movement);
  };
};

module.exports = dragHandler;



},{}],4:[function(require,module,exports){
var CanvasViewport, Image, centered, dragHandler;

CanvasViewport = require('./CanvasViewport');

dragHandler = require('./dragHandler');

Image = require('./Image');

window.onload = function() {
  var images, node, viewport, x;
  node = document.getElementById('slider');
  images = Array.prototype.map.call(node.children, function(image, index) {
    var x, y;
    x = (index * node.width) + centered(image.width, node.width);
    y = centered(image.height, node.height);
    return new Image(image, x, y);
  });
  viewport = new CanvasViewport(node, images);
  x = 0;
  viewport.render(x);
  return dragHandler(node, document, function(movement) {
    x += movement;
    return viewport.render(x);
  });
};

centered = function(size, available) {
  var short;
  short = available - size;
  if (short <= 0) {
    return 0;
  }
  return Math.floor(short / 2);
};



},{"./CanvasViewport":1,"./Image":2,"./dragHandler":3}]},{},[4])
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCIvaG9tZS9jaHJpc3RpYWFuL3RtcC9jYW52YXMtc2xpZGVyL3NyYy9DYW52YXNWaWV3cG9ydC5jb2ZmZWUiLCIvaG9tZS9jaHJpc3RpYWFuL3RtcC9jYW52YXMtc2xpZGVyL3NyYy9JbWFnZS5jb2ZmZWUiLCIvaG9tZS9jaHJpc3RpYWFuL3RtcC9jYW52YXMtc2xpZGVyL3NyYy9kcmFnSGFuZGxlci5jb2ZmZWUiLCIvaG9tZS9jaHJpc3RpYWFuL3RtcC9jYW52YXMtc2xpZGVyL3NyYy9pbmRleC5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUNBQSxJQUFBLCtCQUFBOztBQUFBO0FBQ2UsRUFBQSx3QkFBQyxJQUFELEVBQVEsTUFBUixHQUFBO0FBQ1gsSUFEWSxJQUFDLENBQUEsT0FBRCxJQUNaLENBQUE7QUFBQSxJQURtQixJQUFDLENBQUEsU0FBRCxNQUNuQixDQUFBO0FBQUEsSUFBQSxJQUFDLENBQUEsT0FBRCxHQUFXLElBQUMsQ0FBQSxJQUFJLENBQUMsVUFBTixDQUFpQixJQUFqQixDQUFYLENBQUE7QUFBQSxJQUNBLElBQUMsQ0FBQSxZQUFELENBQWMsQ0FBZCxDQURBLENBRFc7RUFBQSxDQUFiOztBQUFBLDJCQUlBLE1BQUEsR0FBUSxTQUFDLENBQUQsR0FBQTtBQUNOLElBQUEsSUFBQyxDQUFBLFlBQUQsQ0FBYyxDQUFkLENBQUEsQ0FBQTtBQUFBLElBQ0EsSUFBQyxDQUFBLE9BQU8sQ0FBQyxTQUFULEdBQXFCLE1BRHJCLENBQUE7QUFBQSxJQUVBLElBQUMsQ0FBQSxPQUFPLENBQUMsUUFBVCxDQUFrQixDQUFsQixFQUFxQixDQUFyQixFQUF3QixJQUFDLENBQUEsSUFBSSxDQUFDLEtBQTlCLEVBQXFDLElBQUMsQ0FBQSxJQUFJLENBQUMsTUFBM0MsQ0FGQSxDQUFBO1dBR0EsSUFBQyxDQUFBLE1BQU0sQ0FB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QUMsTUFBVCxDQUFnQixDQUFoQixFQUYwQjtFQUFBLENBQTVCLEVBYmM7QUFBQSxDQUpoQixDQUFBOztBQUFBLFFBcUJBLEdBQVcsU0FBQyxJQUFELEVBQU8sU0FBUCxHQUFBO0FBQ1QsTUFBQSxLQUFBO0FBQUEsRUFBQSxLQUFBLEdBQVEsU0FBQSxHQUFZLElBQXBCLENBQUE7QUFDQSxFQUFBLElBQVksS0FBQSxJQUFTLENBQXJCO0FBQUEsV0FBTyxDQUFQLENBQUE7R0FEQTtBQUdBLFNBQU8sSUFBSSxDQUFDLEtBQUwsQ0FBVyxLQUFBLEdBQVEsQ0FBbkIsQ0FBUCxDQUpTO0FBQUEsQ0FyQlgsQ0FBQSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCJjbGFzcyBDYW52YXNWaWV3cG9ydFxuICBjb25zdHJ1Y3RvcjogKEBub2RlLCBAaW1hZ2VzKS0+XG4gICAgQGNvbnRleHQgPSBAbm9kZS5nZXRDb250ZXh0ICcyZCdcbiAgICBAX3NldFBvc2l0aW9uIDBcblxuICByZW5kZXI6ICh4KS0+XG4gICAgQF9zZXRQb3NpdGlvbiB4XG4gICAgQGNvbnRleHQuZmlsbFN0eWxlID0gJ3BpbmsnXG4gICAgQGNvbnRleHQuZmlsbFJlY3QgMCwgMCwgQG5vZGUud2lkdGgsIEBub2RlLmhlaWdodFxuICAgIEBpbWFnZXMuZm9yRWFjaCAoaW1hZ2UpPT4gaW1hZ2UuZHJhdyh0aGlzKVxuXG4gIGRyYXdJbWFnZTogKGltYWdlLCB4LCB5KS0+XG4gICAgeCAtPSBAcG9zaXRpb25cbiAgICBbeCwgd2lkdGgsIHN4XSA9IGF4aXNGaXRPbkNhbnZhcyh4LCBpbWFnZS53aWR0aCwgQG5vZGUud2lkdGgpXG4gICAgW3ksIGhlaWdodCwgc3ldID0gYXhpc0ZpdE9uQ2FudmFzKHksIGltYWdlLmhlaWdodCwgQG5vZGUuaGVpZ2h0KVxuICAgIHJldHVybiBpZiB3aWR0aCA9PSAwIG9yIGhlaWdodCA9PSAwXG5cbiAgICAjIGRyYXdJbWFnZShpbWFnZSwgc3gsIHN5LCBzV2lkdGgsIHNIZWlnaHQsIGR4LCBkeSwgZFdpZHRoLCBkSGVpZ2h0KVxuICAgIEBjb250ZXh0LmRyYXdJbWFnZShpbWFnZSwgc3gsIHN5LCB3aWR0aCwgaGVpZ2h0LCB4LCB5LCB3aWR0aCwgaGVpZ2h0KTtcbiAgICByZXR1cm5cblxuICBfc2V0UG9zaXRpb246IChwb3NpdGlvbiktPlxuICAgIHBvc2l0aW9uID0gTWF0aC5taW4gcG9zaXRpb24sIEBub2RlLndpZHRoICogKEBpbWFnZXMubGVuZ3RoIC0gMSlcbiAgICBwb3NpdGlvbiA9IE1hdGgubWF4IDAsIHBvc2l0aW9uXG4gICAgQHBvc2l0aW9uID0gcG9zaXRpb25cblxuYXhpc0ZpdE9uQ2FudmFzID0gKHBvc2l0aW9uLCBzaXplLCBhdmFpbGFibGUpLT5cbiAgc291cmNlUG9zaXRpb24gPSAwXG4gIGlmIHBvc2l0aW9uICsgc2l6ZSA8IDBcbiAgICBzaXplID0gMFxuICBlbHNlIGlmIHBvc2l0aW9uIDwgMFxuICAgIG92ZXJkdWUgPSAwIC0gcG9zaXRpb25cbiAgICBzaXplIC09IG92ZXJkdWVcbiAgICBzb3VyY2VQb3NpdGlvbiArPSBvdmVyZHVlXG4gICAgcG9zaXRpb24gPSAwXG4gIGVsc2UgaWYgcG9zaXRpb24gPiBhdmFpbGFibGVcbiAgICBzaXplID0gMFxuICBlbHNlIGlmIHBvc2l0aW9uICsgc2l6ZSA+IGF2YWlsYWJsZVxuICAgIHNpemUgPSBhdmFpbGFibGUgLSBwb3NpdGlvblxuXG4gIFtwb3NpdGlvbiwgc2l6ZSwgc291cmNlUG9zaXRpb25dXG5cblxubW9kdWxlLmV4cG9ydHMgPSBDYW52YXNWaWV3cG9ydFxuIiwiY2xhc3MgSW1hZ2VcbiAgY29uc3RydWN0b3I6IChAbm9kZSwgQHgsIEB5KS0+XG5cbiAgZHJhdzogKHZpZXdwb3J0KS0+XG4gICAgdmlld3BvcnQuZHJhd0ltYWdlKEBub2RlLCBAeCwgQHkpXG5cbm1vZHVsZS5leHBvcnRzID0gSW1hZ2VcbiIsImRyYWdIYW5kbGVyID0gKG5vZGUsIHBhcmVudE5vZGUsIGNiKS0+XG4gICAgcG9zaXRpb24gPSAwXG4gICAgbm9kZS5hZGRFdmVudExpc3RlbmVyICdtb3VzZWRvd24nLCAoZSktPlxuICAgICAgcGFyZW50Tm9kZS5hZGRFdmVudExpc3RlbmVyICdtb3VzZW1vdmUnLCByZXBvcnRNb3ZlbWVudFxuICAgICAgcG9zaXRpb24gPSBlLmNsaWVudFhcbiAgICAgIHJldHVyblxuXG4gICAgcGFyZW50Tm9kZS5hZGRFdmVudExpc3RlbmVyICdtb3VzZXVwJywgKGUpLT5cbiAgICAgIHBhcmVudE5vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lciAnbW91c2Vtb3ZlJywgcmVwb3J0TW92ZW1lbnRcbiAgICAgIHJldHVyblxuXG4gICAgcmVwb3J0TW92ZW1lbnQgPSAoZSktPlxuICAgICAgbW92ZW1lbnQgPSBwb3NpdGlvbiAtIGUuY2xpZW50WFxuICAgICAgcG9zaXRpb24gPSBlLmNsaWVudFhcbiAgICAgIGNiIG1vdmVtZW50XG4gICAgICByZXR1cm5cblxubW9kdWxlLmV4cG9ydHMgPSBkcmFnSGFuZGxlclxuIiwiQ2FudmFzVmlld3BvcnQgPSByZXF1aXJlICcuL0NhbnZhc1ZpZXdwb3J0J1xuZHJhZ0hhbmRsZXIgPSByZXF1aXJlICcuL2RyYWdIYW5kbGVyJ1xuSW1hZ2UgPSByZXF1aXJlICcuL0ltYWdlJ1xuXG53aW5kb3cub25sb2FkID0gLT5cbiAgbm9kZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzbGlkZXInKVxuICBpbWFnZXMgPSBBcnJheS5wcm90b3R5cGUubWFwLmNhbGwobm9kZS5jaGlsZHJlbiwgKGltYWdlLCBpbmRleCktPlxuICAgIHggPSAoaW5kZXggKiBub2RlLndpZHRoKSArIGNlbnRlcmVkKGltYWdlLndpZHRoLCBub2RlLndpZHRoKVxuICAgIHkgPSBjZW50ZXJlZChpbWFnZS5oZWlnaHQsIG5vZGUuaGVpZ2h0KVxuICAgIG5ldyBJbWFnZShpbWFnZSwgeCwgeSlcbiAgKVxuXG4gIHZpZXdwb3J0ID0gbmV3IENhbnZhc1ZpZXdwb3J0KG5vZGUsIGltYWdlcylcblxuICB4ID0gMFxuICB2aWV3cG9ydC5yZW5kZXIgeFxuXG4gIGRyYWdIYW5kbGVyIG5vZGUsIGRvY3VtZW50LCAobW92ZW1lbnQpLT5cbiAgICB4ICs9IG1vdmVtZW50XG4gICAgdmlld3BvcnQucmVuZGVyIHhcblxuY2VudGVyZWQgPSAoc2l6ZSwgYXZhaWxhYmxlKS0+XG4gIHNob3J0ID0gYXZhaWxhYmxlIC0gc2l6ZVxuICByZXR1cm4gMCBpZiBzaG9ydCA8PSAwXG5cbiAgcmV0dXJuIE1hdGguZmxvb3Ioc2hvcnQgLyAyKVxuIl19

(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
var CanvasViewport, axisFitOnCanvas;

CanvasViewport = (function() {
  function CanvasViewport(node, images) {
    this.node = node;
    this.images = images;
    this.context = this.node.getContext('2d');
    this._setPosition(0);
  }

  CanvasViewport.prototype.render = function(x) {
    this._setPosition(x);
    this.context.fillStyle = 'pink';
    this.context.fillRect(0, 0, this.node.width, this.node.height);
    return this.images.forEach((function(_this) {
      return function(image) {
        return image.draw(_this);
      };
    })(this));
  };

  CanvasViewport.prototype.drawImage = function(image, x, y) {
    var height, ref, ref1, sx, sy, width;
    x -= this.position;
    ref = axisFitOnCanvas(x, image.width, this.node.width), x = ref[0], width = ref[1], sx = ref[2];
    ref1 = axisFitOnCanvas(y, image.height, this.node.height), y = ref1[0], height = ref1[1], sy = ref1[2];
    if (width === 0 || height === 0) {
      return;
    }
    this.context.drawImage(image, sx, sy, width, height, x, y, width, height);
  };

  CanvasViewport.prototype._setPosition = function(position) {
    position = Math.min(position, this.node.width * (this.images.length - 1));
    position = Math.max(0, position);
    return this.position = position;
  };

  return CanvasViewport;

})();

axisFitOnCanvas = function(position, size, available) {
  var overdue, sourcePosition;
  sourcePosition = 0;
  if (position + size < 0) {
    size = 0;
  } else if (position < 0) {
    overdue = 0 - position;
    size -= overdue;
    sourcePosition += overdue;
    position = 0;
  } else if (position > available) {
    size = 0;
  } else if (position + size > available) {
    size = available - position;
  }
  return [position, size, sourcePosition];
};

module.exports = CanvasViewport;



},{}],2:[function(require,module,exports){
var Image;

Image = (function() {
  function Image(node, x, y) {
    this.node = node;
    this.x = x;
    this.y = y;
  }

  Image.prototype.draw = function(viewport) {
    return viewport.drawImage(this.node, this.x, this.y);
  };

  return Image;

})();

module.exports = Image;



},{}],3:[function(require,module,exports){
var CanvasViewport, Image, canvasSlider, centered;

CanvasViewport = require('./CanvasViewport');

Image = require('./Image');

canvasSlider = window.canvasSlider || {};

canvasSlider.createFrom = function(node) {
  var images;
  images = Array.prototype.map.call(node.children, function(image, index) {
    var x, y;
    x = (index * node.width) + centered(image.width, node.width);
    y = centered(image.height, node.height);
    return new Image(image, x, y);
  });
  return new CanvasViewport(node, images);
};

window.canvasSlider = canvasSlider;

centered = function(size, available) {
  var short;
  short = available - size;
  if (short <= 0) {
    return 0;
  }
  return Math.floor(short / 2);
};



},{"./CanvasViewport":1,"./Image":2}]},{},[3])
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCIvaG9tZS9jaHJpc3RpYWFuL3RtcC9jYW52YXMtc2xpZGVyL3NyYy9DYW52YXNWaWV3cG9ydC5jb2ZmZWUiLCIvaG9tZS9jaHJpc3RpYWFuL3RtcC9jYW52YXMtc2xpZGVyL3NyYy9JbWFnZS5jb2ZmZWUiLCIvaG9tZS9jaHJpc3RpYWFuL3RtcC9jYW52YXMtc2xpZGVyL3NyYy9pbmRleC5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUNBQSxJQUFBLCtCQUFBOztBQUFBO0FBQ2UsRUFBQSx3QkFBQyxJQUFELEVBQVEsTUFBUixHQUFBO0FBQ1gsSUFEWSxJQUFDLENBQUEsT0FBRCxJQUNaLENBQUE7QUFBQSxJQURtQixJQUFDLENBQUEsU0FBRCxNQUNuQixDQUFBO0FBQUEsSUFBQSxJQUFDLENBQUEsT0FBRCxHQUFXLElBQUMsQ0FBQSxJQUFJLENBQUMsVUFBTixDQUFpQixJQUFqQixDQUFYLENBQUE7QUFBQSxJQUNBLElBQUMsQ0FBQSxZQUFELENBQWMsQ0FBZCxDQURBLENBRFc7RUFBQSxDQUFiOztBQUFBLDJCQUlBLE1BQUEsR0FBUSxTQUFDLENBQUQsR0FBQTtBQUNOLElBQUEsSUFBQyxDQUFBLFlBQUQsQ0FBYyxDQUFkLENBQUEsQ0FBQTtBQUFBLElBQ0EsSUFBQyxDQUFBLE9BQU8sQ0FBQyxTQUFULEdBQXFCLE1BRHJCLENBQUE7QUFBQSxJQUVBLElBQUMsQ0FBQSxPQUFPLENBQUMsUUFBVCxDQUFrQixDQUFsQixFQUFxQixDQUFyQixFQUF3QixJQUFDLENBQUEsSUFBSSxDQUFDLEtBQTlCLEVBQXFDLElBQUMsQ0FBQSxJQUFJLENBQUMsTUFBM0MsQ0FGQSxDQUFBO1dBR0EsSUFBQyxDQUFBLE1BQU0sQ0FBQyxPQUFSLENBQWdCLENBQUEsU0FBQSxLQUFBLEdBQUE7YUFBQSxTQUFDLEtBQUQsR0FBQTtlQUFVLEtB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R0FBVyxTQUFDLElBQUQsRUFBTyxTQUFQLEdBQUE7QUFDVCxNQUFBLEtBQUE7QUFBQSxFQUFBLEtBQUEsR0FBUSxTQUFBLEdBQVksSUFBcEIsQ0FBQTtBQUNBLEVBQUEsSUFBWSxLQUFBLElBQVMsQ0FBckI7QUFBQSxXQUFPLENBQVAsQ0FBQTtHQURBO0FBR0EsU0FBTyxJQUFJLENBQUMsS0FBTCxDQUFXLEtBQUEsR0FBUSxDQUFuQixDQUFQLENBSlM7QUFBQSxDQWpCWCxDQUFBIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsImNsYXNzIENhbnZhc1ZpZXdwb3J0XG4gIGNvbnN0cnVjdG9yOiAoQG5vZGUsIEBpbWFnZXMpLT5cbiAgICBAY29udGV4dCA9IEBub2RlLmdldENvbnRleHQgJzJkJ1xuICAgIEBfc2V0UG9zaXRpb24gMFxuXG4gIHJlbmRlcjogKHgpLT5cbiAgICBAX3NldFBvc2l0aW9uIHhcbiAgICBAY29udGV4dC5maWxsU3R5bGUgPSAncGluaydcbiAgICBAY29udGV4dC5maWxsUmVjdCAwLCAwLCBAbm9kZS53aWR0aCwgQG5vZGUuaGVpZ2h0XG4gICAgQGltYWdlcy5mb3JFYWNoIChpbWFnZSk9PiBpbWFnZS5kcmF3KHRoaXMpXG5cbiAgZHJhd0ltYWdlOiAoaW1hZ2UsIHgsIHkpLT5cbiAgICB4IC09IEBwb3NpdGlvblxuICAgIFt4LCB3aWR0aCwgc3hdID0gYXhpc0ZpdE9uQ2FudmFzKHgsIGltYWdlLndpZHRoLCBAbm9kZS53aWR0aClcbiAgICBbeSwgaGVpZ2h0LCBzeV0gPSBheGlzRml0T25DYW52YXMoeSwgaW1hZ2UuaGVpZ2h0LCBAbm9kZS5oZWlnaHQpXG4gICAgcmV0dXJuIGlmIHdpZHRoID09IDAgb3IgaGVpZ2h0ID09IDBcblxuICAgICMgZHJhd0ltYWdlKGltYWdlLCBzeCwgc3ksIHNXaWR0aCwgc0hlaWdodCwgZHgsIGR5LCBkV2lkdGgsIGRIZWlnaHQpXG4gICAgQGNvbnRleHQuZHJhd0ltYWdlKGltYWdlLCBzeCwgc3ksIHdpZHRoLCBoZWlnaHQsIHgsIHksIHdpZHRoLCBoZWlnaHQpO1xuICAgIHJldHVyblxuXG4gIF9zZXRQb3NpdGlvbjogKHBvc2l0aW9uKS0+XG4gICAgcG9zaXRpb24gPSBNYXRoLm1pbiBwb3NpdGlvbiwgQG5vZGUud2lkdGggKiAoQGltYWdlcy5sZW5ndGggLSAxKVxuICAgIHBvc2l0aW9uID0gTWF0aC5tYXggMCwgcG9zaXRpb25cbiAgICBAcG9zaXRpb24gPSBwb3NpdGlvblxuXG5heGlzRml0T25DYW52YXMgPSAocG9zaXRpb24sIHNpemUsIGF2YWlsYWJsZSktPlxuICBzb3VyY2VQb3NpdGlvbiA9IDBcbiAgaWYgcG9zaXRpb24gKyBzaXplIDwgMFxuICAgIHNpemUgPSAwXG4gIGVsc2UgaWYgcG9zaXRpb24gPCAwXG4gICAgb3ZlcmR1ZSA9IDAgLSBwb3NpdGlvblxuICAgIHNpemUgLT0gb3ZlcmR1ZVxuICAgIHNvdXJjZVBvc2l0aW9uICs9IG92ZXJkdWVcbiAgICBwb3NpdGlvbiA9IDBcbiAgZWxzZSBpZiBwb3NpdGlvbiA+IGF2YWlsYWJsZVxuICAgIHNpemUgPSAwXG4gIGVsc2UgaWYgcG9zaXRpb24gKyBzaXplID4gYXZhaWxhYmxlXG4gICAgc2l6ZSA9IGF2YWlsYWJsZSAtIHBvc2l0aW9uXG5cbiAgW3Bvc2l0aW9uLCBzaXplLCBzb3VyY2VQb3NpdGlvbl1cblxuXG5tb2R1bGUuZXhwb3J0cyA9IENhbnZhc1ZpZXdwb3J0XG4iLCJjbGFzcyBJbWFnZVxuICBjb25zdHJ1Y3RvcjogKEBub2RlLCBAeCwgQHkpLT5cblxuICBkcmF3OiAodmlld3BvcnQpLT5cbiAgICB2aWV3cG9ydC5kcmF3SW1hZ2UoQG5vZGUsIEB4LCBAeSlcblxubW9kdWxlLmV4cG9ydHMgPSBJbWFnZVxuIiwiQ2FudmFzVmlld3BvcnQgPSByZXF1aXJlICcuL0NhbnZhc1ZpZXdwb3J0J1xuSW1hZ2UgPSByZXF1aXJlICcuL0ltYWdlJ1xuXG5jYW52YXNTbGlkZXIgPSB3aW5kb3cuY2FudmFzU2xpZGVyIHx8IHt9XG5cbmNhbnZhc1NsaWRlci5jcmVhdGVGcm9tID0gKG5vZGUpIC0+XG5cbiAgaW1hZ2VzID0gQXJyYXkucHJvdG90eXBlLm1hcC5jYWxsKG5vZGUuY2hpbGRyZW4sIChpbWFnZSwgaW5kZXgpLT5cbiAgICB4ID0gKGluZGV4ICogbm9kZS53aWR0aCkgKyBjZW50ZXJlZChpbWFnZS53aWR0aCwgbm9kZS53aWR0aClcbiAgICB5ID0gY2VudGVyZWQoaW1hZ2UuaGVpZ2h0LCBub2RlLmhlaWdodClcbiAgICBuZXcgSW1hZ2UoaW1hZ2UsIHgsIHkpXG4gIClcblxuICByZXR1cm4gbmV3IENhbnZhc1ZpZXdwb3J0KG5vZGUsIGltYWdlcylcblxud2luZG93LmNhbnZhc1NsaWRlciA9IGNhbnZhc1NsaWRlclxuXG5jZW50ZXJlZCA9IChzaXplLCBhdmFpbGFibGUpLT5cbiAgc2hvcnQgPSBhdmFpbGFibGUgLSBzaXplXG4gIHJldHVybiAwIGlmIHNob3J0IDw9IDBcblxuICByZXR1cm4gTWF0aC5mbG9vcihzaG9ydCAvIDIpXG4iXX0=
